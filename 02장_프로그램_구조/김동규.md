# 2장 프로그램 구조

## 1. 자바스크립트에서 ‘부수효과(side effect)’란 무엇인가요?

부수효과는 함수가 자신의 입력값을 바탕으로 결과만 반환하는 것 외에, 외부 상태를 변경하거나 관찰 가능한 영향을 주는 행위를 의미합니다.   
예를 들어, 전역 변수를 수정하거나, 콘솔에 로그를 출력하거나, DOM을 조작하거나, 네트워크 요청을 보내는 것 등이 부수효과에 해당합니다.

- 전역 변수 혹은 함수 바깥 스코프 변수 변경
```
let count = 0;
function increment() {
  count++; // 외부 상태 변경 → 부수효과
}
```
- I/O 작업: console.log, alert, fetch 등 - DOM 조작: document.querySelector("#app").innerText = "hi" 
- Date/Math.random: 순수하지 않은 값 반환

<br />

## 1-1. 부수효과가 문제가 되는 이유와 어떻게 관리해야하는지?  (꼬리질문)

문제가 되는 이유
- 코드의 예측 가능성 감소: 같은 함수 호출인데 결과가 달라질 수 있음.
- 디버깅/테스트 어려움: 외부 상태 의존성이 크면 단위 테스트가 힘들어짐.
- 유지보수 비용 증가: 어디서 상태가 바뀌었는지 추적하기 어려움.

관리 방법 예시
- 순수 함수와 부수효과 함수 분리: 계산 로직은 순수하게 유지하고, 입출력(I/O)은 가장 바깥쪽에서 처리.
- 불변성(immutability) 활용: 기존 객체/배열을 직접 수정하지 않고 복사 후 변경.
- 상태 관리 도구: React의 경우 useEffect 훅을 통해 부수효과를 한정된 곳에서만 실행. 

<br />

## 1-2. 부수효과를 완전히 없앨 수 있는지? (꼬리질문)
실질적으로는 불가능합니다. 프로그램이 유용하려면 외부 세계와 상호작용을 해야 하므로 부수효과가 필요합니다. 중요한 것은 “부수효과를 최소화하고, 예측 가능한 방식으로 관리하는 것”입니다.

<br />


## 2. var, let, const 차이 ?

var는 함수 스코프라 예측이 어려우며 변수 오염 가능성이 큽니다, 이와달리 let과 const는 블록 스코프라 더 안전합니다. let은 재할당 가능, const는 재할당 불가라는 차이가 있습니다.
React에서는 상태 관리와 불변성이 핵심이라, 컴포넌트 내부에서 대부분 const를 사용합니다. let의 값 변경이 React 렌더링 사이클에서 추적되지 않습니다. 즉, 리렌더링과 무관하게 바뀌기 때문에 디버깅이나 상태 추적이 어려워집니다.

스코프(scope)
- var: 함수 스코프(function scope). 블록({})을 무시하고 함수 단위로만 범위가 제한됩니다. → 의도치 않은 변수 오염 가능성이 큽니다.
- let, const: 블록 스코프(block scope). {} 안에서만 유효합니다. → 변수 충돌 위험이 줄어듭니다.

재선언 / 재할당
- var: 같은 스코프 안에서 재선언과 재할당 모두 가능합니다. → 예측하기 어려운 동작을 초래할 수 있음.
- let: 재선언 불가, 재할당 가능.
- const: 재선언 불가, 재할당도 불가. (단, 객체/배열은 참조 자체는 고정이지만 내부 속성은 변경 가능)

호이스팅(hoisting)
- var: 선언이 끌어올려지며(undefined로 초기화). 그래서 선언 전에 접근해도 undefined를 반환.
- let, const: 선언은 호이스팅되지만 TDZ(Temporal Dead Zone) 때문에 초기화 전 접근 시 에러 발생.


<br />
