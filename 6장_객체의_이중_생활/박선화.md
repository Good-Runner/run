# 6장 객체의 이중 생활

### 캡슐화

프로그램의 여러 영역은 인터페이스나 제한적인 함수 또는 정확한 구현을 숨기고 보다 추상적인 수준에서 ㅇ유용한 기능을 제공하는 바인딩을 통해 서로 상호작용한다. 

프로그램의 영역은 객체를 사용해서 모델링한다. 각 인터페이스는 특정 메서드와 속성으로 구성된다. 인터페이스의 일부분인 속성을 퍼블릭이라고 하며, 외부 코드에서 접근하지 못하는 나머지 속성을 프라이빗이라고 한다.

인터페이스와 구현은 분리하는 것이 좋다. 이 방법을 보통 캡슐화라고 한다.

### 메서드

메서드는 함수 값을 가지고 있는 속성이나 다름없다. 

### 📌 this 바인딩

함수가 메서드처럼 호출되면 함수 본문의 this 바인딩은 호출한 객체를 자동으로 가리킨다.

this는 다양한 방식으로 전달되는 추가적인 매개변수라고 생각할 수 있다. 함수가 호출되는 환경에 따라 this가 가리키는 대상이 달라진다.

자바스크립트에서 함수가 실행되면 실행 컨텍스트가 생성되고, 그 안에 this를 포함한 다양한 정보가 저장된다. <br />
이 this는 함수가 호출될 때 어떤 방식으로 호출되느냐에 따라 결정된다. 즉, 일반 함수는 호출 방식에 따라 this가 동적으로 결정된다.

**자바스크립트의 this 바인딩 규칙**
1. 기본 바인딩 (Default Binding)
   일반 함수를 호출하면 this는 전역 객체를 가리킵니다. (브라우저 환경은 window, Node.js 환경은 global, 엄격모드에서는 this가 undefined)
2. 암시적 바인딩 (Implicit Binding)
   객체의 메서드로 호출되면 this는 메서드를 호출한 객체를 가리킨다.
3. 명시적 바인딩 (Explicit Binding)
   call(), apply(), bind()을 사용하여 this를 지정할 수 있다.
4. new 바인딩 (Constructor Binding)
   생성자 함수 내부의 this는 생성자 함수가 미래에 생성할 인스턴스를 가리킨다. 

(+) 화살표 함수는 기존 함수와 다르게 자신만의 this 바인딩을 가지지 않으며, 화살표 함수가 선언된 위치의 상위 스코프에 있는 this를 그대로 사용한다.

### 프로토타입

프로토타입은 속성을 대체하는 용도로 사용되는 또 다른 객체다.
객체가 가지고 있지 않은 속성을 요청하면 객체의 프로토타입에서 해당 속성을 검색한 후, 해당 프로토타입의 프로토타입을 검색하고 계속해서 그다음 검색을 반복한다.

모든 객체의 조상 프로토타입으로 Object.prototype이 존재한다.

### 클래스

클래스의 인스턴스를 객체라고 한다. <br />
프로토타입은 메서드와 같이 클래스의 모든 인스턴스에서 동일한 값을 공유하기 위한 속성을 정의하는 데 사용한다.

#### 생성자 함수

함수 호출 부분의 앞에 new 키워드를 붙이면 그 함수는 생성자로 동작한다. 그렇게 하면 적절한 플호ㅗ토타입을 갖는 객체가 자동으로 생성되고, 해당 함수의 this를 바인딩한 후, 해당 함수의 마지막에서 반환된다. 객체 생성에 사용되는 프로토타입 객체는 생성자 함수의 prototype 속성을 통해 확인할 수 있다.

```tsx
function Rabbit(type) {
   this.type = type;
}

Rabbit.prototype.speak = function(line) {
   console.log(`The ${this.type} rabbit says '${line}'`);
};

let weirdRabbit = new Rabbit("weird");

console.log(Object.getPrototypeOf(Rabbit) == Function.prototype); // true
console.log(Object.getPrototypeOf(weirdRabbit) == Rabbit.prototype); // true
```

생성자(사실상 모든 함수)는 자동으로 prototype 속성을 갖는다.
필요에 따라 이 객체를 새로운 객체로 덮어쓸 수 있다. 또는 기존 객체에 속성을 추가할 수도 있다.

프로토타입이 생성자와 연결되는 방식(prototype 속성을 통해)과 객체가 프로토타입(Object.getPrototypeOf)을 갖는 방식의 차이점을 이해해야 한다.
생성자는 함수이므로 생성자의 실제 프로토타입은 Function.prototype이다. 이 생성자의 prototype 속성에는 생성자를 통해 만들어진 인스턴스에서 사용하는 프로토타입이 포함된다.

#### 클래스 표기법

자바스크립트 클래스는 프로토타입 속성이 있는 생성자 함수다.

class 키워드는 클래스 선언의 시작이며 생성자와 일련의 메서드를 모두 한 곳에 정의할 수 있다.

### 파생 속성 재정의

### 맵

### 다형성

### 심볼

### 반복자 인터페이스

### 게터, 세터, 스태틱

### 상속

### instanceof 연산자
