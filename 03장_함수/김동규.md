# 3장 함수

## 1. 스코프에 대해 설명해주세요.

스코프란 변수와 함수가 참조될 수 있는 유효 범위를 말합니다.

자바스크립트에서는 크게 전역 스코프, 함수 스코프, 블록 스코프로 나눌 수 있습니다. var는 함수 스코프만 지원하고, let과 const는 블록 스코프를 지원합니다.

또한 스코프는 렉시컬 스코프 규칙을 따르기 때문에, 변수가 어디서 선언되었는지, 함수가 어디서 정의되었는지에 따라 접근 가능한 범위가 결정됩니다.

```js
function foo() {
  var y = 20;
  console.log(y); // 20
}
foo();
console.log(y); // ReferenceError
```

<br />

## 1-1. 렉시컬 스코프와 동적 스코프의 차이를 설명하고, 자바스크립트가 렉시컬 스코프를 채택했을 때 어떤 장점이 있나요?

렉시컬 스코프는 함수가 정의된 위치에 따라 상위 스코프가 고정되는 방식입니다. 반대로 동적 스코프는 함수가 호출된 위치에 따라 상위 스코프가 달라집니다.

대부분 현대 언어는 예측 가능성을 위해 렉시컬 스코프를 채택합니다. 예를 들어 자바스크립트는 렉시컬 스코프를 따르기 때문에 

```js
const x = 1;

function outer() {
  const x = 10;
  function inner() {
    console.log(x);
  }
  return inner;
}

const fn = outer();
fn(); // 10
```

inner 함수는 전역에서 실행되더라도, 정의 당시 outer 스코프를 기억해서 10을 출력합니다.

만약 자바스크립트가 동적 스코프였다면, fn()이 전역에서 호출되었으므로 전역의 x = 1을 참조했을 겁니다.

함수가 어디서 호출되든 상관없이 정의 시점의 환경만 따라가기 때문에 코드 추적이 쉽고, 클로저 같은 기능도 안전하게 구현할 수 있습니다.

동적 스코프였다면 호출 위치마다 결과가 달라져 디버깅과 유지보수가 훨씬 어렵습니다.


<br />

## 2.클로저란 무엇인가요?

외부 범위의 지역 바인딩 인스턴스를 참조할 수 있는 기능을 클로저라고 말하며, 함수 주변의 지역 범위에서 바인딩을 참조하는 함수를 클로저라고 합니다.

함수가 호출될 때마다 새로운 지역 바인딩이 만들어지고, 이 바인딩은 다른 호출과는 독립적으로 유지됩니다. 이를 통해 변수의 수명에 대해 직접 관리하지 않아도 되고, 함수 값을 보다 창의적으로 활용할 수 있습니다.

특히 클로저는 외부에서 직접 접근할 수 없는 내부 변수를 은닉하는 효과가 있어, 캡슐화된 상태를 안전하게 관리하는 데 활용할 수 있습니다.

```js
function multiplier(factor) {
  return number => number * factor;
} 

let twice = multiplier(2);
console.log(twice(5));
// -> 10
```

<br />

## 2-1. 클로저를 우리가 왜 알아야하나요?

프론트엔드 개발에서는 상태 관리나 이벤트 핸들러 같은 상황에서 자주 활용되기 때문에 반드시 알아야 합니다.

예를 들어, 버튼을 클릭했을 때 특정 카운터 값을 계속 유지하거나, 비공개 변수를 만들어 외부에서 직접 접근하지 못하도록 하는 패턴은 모두 클로저로 구현됩니다. React 훅 역시 내부적으로 클로저 개념을 활용해 상태를 기억합니다.

따라서 클로저를 이해하면 단순한 자바스크립트 코드를 넘어서, React 같은 프레임워크의 동작 원리를 더 깊게 이해하고, 안전하게 상태를 관리하는 패턴을 설계할 수 있다는 장점이 있습니다.

<br />

## 3. 순수함수는 무엇인가요? 

input이 같으면 output이 같은 함수

외부 상태를 변경하지 않고 외부 상태에 의존하지도 않는 함수를 순수 함수라 합니다. 다만, 만약 외부 상태에는 의존하지 않고 함수 내부 상태에만 의존한다 해도 그 내부 상태가 호출될 때마다 변화하는 값(예: 현재 시간)이라면 순수 함수가 아닙니다.

순수 함수를 통해 부수효과를 최대한 억제하여 오류를 피하고 프로그램의 안정성을 높이려는 프로그래밍 패러다임을 함수형 프로그래밍이라 합니다.

<br />

## 4. 렉시컬 환경이란 무엇인가요?

렉시컬 환경은 자바스크립트 엔진이 스코프를 구현하는 내부 구조입니다. 변수와 함수 바인딩을 저장하는 기록과, 외부 환경에 대한 참조로 구성돼 있어 스코프 체인을 만들고, 클로저 같은 기능이 동작할 수 있게 합니다.

